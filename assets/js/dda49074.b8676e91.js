"use strict";(self.webpackChunkgetocc=self.webpackChunkgetocc||[]).push([[753],{5859:(e,t,r)=>{r.d(t,{T:()=>a,k:()=>o});r(6540);const n={inlineIndicator:"inlineIndicator_pX1_",cornerIndicator:"cornerIndicator_G6Rs",dot:"dot_RipS",text:"text_hm7p",supported:"supported_V56n",unsupported:"unsupported_lfpn"};var i=r(4848);function o(){const e="undefined"!=typeof SharedArrayBuffer,t="undefined"!=typeof window&&window.crossOriginIsolated;return{hasSharedArrayBuffer:e,isCrossOriginIsolated:t,hasWorker:"undefined"!=typeof Worker,isSupported:e&&t}}function a({showText:e=!1,position:t="inline",onClick:r}){const{isSupported:a,hasSharedArrayBuffer:s,isCrossOriginIsolated:l,hasWorker:d}=o(),c=["SharedArrayBuffer: "+(s?"\u2713":"\u2717"),"Cross-Origin Isolated: "+(l?"\u2713":"\u2717"),"Web Workers: "+(d?"\u2713":"\u2717"),"",a?"Multi-threading available":"Limited mode - performance may be reduced","","Tap for details"].join("\n"),m=e=>{if(r)r();else{e.preventDefault();const t="undefined"!=typeof navigator?navigator.userAgent:"Unknown";alert(`Browser Support Status\n\nSharedArrayBuffer: ${s?"\u2713 Supported":"\u2717 Not Available"}\nCross-Origin Isolated: ${l?"\u2713 Enabled":"\u2717 Disabled"}\nWeb Workers: ${d?"\u2713 Supported":"\u2717 Not Available"}\n\nStatus: ${a?"Full multi-threading support":"Limited mode - some features may be slower"}\n\nBrowser: ${t}`)}},u="corner"===t?n.cornerIndicator:n.inlineIndicator;return(0,i.jsxs)("div",{className:`${u} ${a?n.supported:n.unsupported}`,title:c,onClick:m,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m(e))},children:[(0,i.jsx)("span",{className:n.dot,children:"\u25cf"}),e&&(0,i.jsx)("span",{className:n.text,children:a?"Ready":"Limited"})]})}},8478:(e,t,r)=>{r.d(t,{A:()=>o});r(6540);var n=r(2303),i=r(4848);function o({children:e,fallback:t}){return(0,n.A)()?(0,i.jsx)(i.Fragment,{children:e?.()}):t??null}},9121:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(6540),i=r(8478),o=r(1656),a=r(5859),s=r(4848);function l(){return(0,s.jsx)(o.A,{title:"Try OCC",description:"Try OCC WebAssembly in your browser",noFooter:!0,children:(0,s.jsx)("div",{style:{height:"calc(100vh - var(--ifm-navbar-height))"},children:(0,s.jsx)(i.A,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:()=>(0,s.jsx)(d,{})})})})}function d(){return(0,n.useEffect)(()=>{const e=document.createElement("link");return e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/@xterm/xterm@5.5.0/css/xterm.css",document.head.appendChild(e),Promise.all([r.e(856).then(r.t.bind(r,7856,23)),r.e(616).then(r.t.bind(r,3616,23))]).then(([e,t])=>{const{Terminal:r}=e,{FitAddon:n}=t;!function(e,t){let r="",n=!1,i="/",o=[],s=-1,l=null,d=!1,c=null,m=null;const u=document.getElementById("terminal-app");if(!u)return;function f(){const e=document.documentElement,t=getComputedStyle(e),r="dark"===e.getAttribute("data-theme");return{background:t.getPropertyValue("--ifm-background-color").trim(),surface:t.getPropertyValue("--ifm-background-surface-color").trim()||t.getPropertyValue("--ifm-background-color").trim(),foreground:t.getPropertyValue("--ifm-font-color-base").trim(),primary:t.getPropertyValue("--ifm-color-primary").trim(),border:t.getPropertyValue("--ifm-color-emphasis-300").trim(),isDark:r}}const p=f(),g=e=>e?"#1a1b26":"#e1e2e7",b=e=>e?"#24283b":"#dfe0e8";u.innerHTML=`\n    <button id="sidebarToggle" style="display: none; position: fixed; top: calc(var(--ifm-navbar-height) + 0.5rem); left: 0.5rem; z-index: 1001; background: ${p.isDark?"#24283b":"#dfe0e8"}; border: 1px solid ${p.border}; border-radius: 6px; padding: 0.5rem 0.75rem; color: ${p.foreground}; cursor: pointer; font-size: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">\u2630</button>\n    <div id="fileSidebar" style="width: 280px; background: ${b(p.isDark)}; border-right: 1px solid ${p.border}; display: flex; flex-direction: column; overflow: hidden; flex-shrink: 0; transition: transform 0.3s ease;">\n      <div id="fileHeader" style="padding: 1rem; border-bottom: 1px solid ${p.border}; color: ${p.foreground}; font-weight: 600; font-size: 0.9rem; display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;">\n        <span>Files</span>\n        <div style="display: flex; gap: 0.5rem;">\n          <button id="closeSidebarBtn" style="display: none; background: ${p.border}; border: none; color: ${p.foreground}; padding: 0.25rem 0.5rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">\u2715</button>\n          <button id="refreshBtn" style="background: ${p.border}; border: none; color: ${p.foreground}; padding: 0.25rem 0.5rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">\u21bb</button>\n        </div>\n      </div>\n      <div id="fileList" style="flex: 1; overflow-y: auto; padding: 0.5rem 0; min-height: 0;">\n        <div style="padding: 2rem 1rem; text-align: center; color: ${p.foreground}; opacity: 0.6; font-size: 0.85rem;">Loading...</div>\n      </div>\n    </div>\n    <div id="terminalContainer" style="flex: 1; position: relative; background: ${g(p.isDark)}; min-width: 0; height: 100%; padding-left: 1rem;">\n      <div id="terminal" style="width: 100%; height: 100%;"></div>\n      <div id="dropOverlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: ${p.primary}33; border: 3px dashed ${p.primary}; display: none; align-items: center; justify-content: center; font-size: 1.5rem; color: ${p.primary}; pointer-events: none; z-index: 1000;">\n        \ud83d\udcc1 Drop files here to upload\n      </div>\n      <div id="statusBar" style="position: absolute; top: 1rem; right: 1.5rem; background: ${p.isDark?"#24283b":"#dfe0e8"}; border: 1px solid ${p.isDark?"#414868":"#c4c6d4"}; border-radius: 6px; padding: 0.4rem 0.8rem; color: ${p.isDark?"#a9b1d6":"#6172b0"}; font-size: 0.75rem; display: flex; gap: 0.5rem; z-index: 100;">\n        <div id="statusIndicator" style="display: flex; align-items: center; gap: 0.4rem;">\n          <span>\u25cb</span>\n          <span id="statusText">Loading...</span>\n        </div>\n      </div>\n    </div>\n  `;const y=p.isDark?{background:"#1a1b26",foreground:"#c0caf5",cursor:"#c0caf5",cursorAccent:"#1a1b26",selection:"rgba(122, 162, 247, 0.3)",black:"#15161e",red:"#f7768e",green:"#9ece6a",yellow:"#e0af68",blue:"#7aa2f7",magenta:"#bb9af7",cyan:"#7dcfff",white:"#a9b1d6",brightBlack:"#414868",brightRed:"#f7768e",brightGreen:"#9ece6a",brightYellow:"#e0af68",brightBlue:"#7aa2f7",brightMagenta:"#bb9af7",brightCyan:"#7dcfff",brightWhite:"#c0caf5"}:{background:"#e1e2e7",foreground:"#3760bf",cursor:"#3760bf",cursorAccent:"#e1e2e7",selection:"rgba(46, 125, 233, 0.2)",black:"#e9e9ed",red:"#f52a65",green:"#587539",yellow:"#8c6c3e",blue:"#2e7de9",magenta:"#9854f1",cyan:"#007197",white:"#6172b0",brightBlack:"#a8aecb",brightRed:"#f52a65",brightGreen:"#587539",brightYellow:"#8c6c3e",brightBlue:"#2e7de9",brightMagenta:"#9854f1",brightCyan:"#007197",brightWhite:"#3760bf"};c=new e({theme:y,fontFamily:'"Cascadia Code", Menlo, Monaco, "Courier New", monospace',fontSize:13,cursorBlink:!0,scrollback:1e4,scrollOnUserInput:!0,smoothScrollDuration:100});const h=document.getElementById("terminal");if(!h)return;m=new t,c.loadAddon(m),c.open(h),setTimeout(()=>m.fit(),0);function w(){const{hasSharedArrayBuffer:e,isCrossOriginIsolated:t,isSupported:r}=(0,a.k)();if(!r){const e=document.getElementById("statusIndicator"),r=document.getElementById("statusText");if(r&&(r.textContent="Limited Mode"),e){const r=getComputedStyle(document.documentElement).getPropertyValue("--ifm-color-danger").trim();e.style.color=r,e.innerHTML=`\n          <span>\u25cf</span>\n          <span id="statusText" style="cursor: help;" title="SharedArrayBuffer not available. Multi-threading disabled. ${t?"":"Cross-Origin Isolation required."}">Limited Mode</span>\n        `}return c.writeln("\x1b[93m\u26a0 Warning: SharedArrayBuffer not available\x1b[0m"),c.writeln("\x1b[93mMulti-threading is disabled. Performance may be limited.\x1b[0m"),t||(c.writeln("\x1b[93mCross-Origin Isolation is not enabled.\x1b[0m"),c.writeln("\x1b[93mTry refreshing the page or using a different browser.\x1b[0m")),c.writeln(""),!1}return!0}function k(){l=new Worker("/occ-worker.js"),l.onmessage=e=>{v(e.data)},l.onerror=e=>{c.writeln(`\x1b[91mWorker error: ${e.message}\x1b[0m\r\n`)}}function v(e){switch(e.type){case"ready":d=!0;const t=w();C(t?"Ready":"Limited Mode",t),c.writeln("\x1b[1;34m\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557"),c.writeln("\x1b[1;34m\u2551         Welcome to OCC WebAssembly Interactive Demo!         \u2551"),c.writeln("\x1b[1;34m\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\x1b[0m"),c.writeln(""),c.writeln("\x1b[1mTry these example commands:\x1b[0m"),c.writeln("  \x1b[33mls\x1b[0m              - List pre-loaded files"),c.writeln("  \x1b[33mcat water.xyz\x1b[0m   - View water molecule structure"),c.writeln("  \x1b[33mcat urea.cif\x1b[0m    - View urea crystal structure"),c.writeln("  \x1b[33mhelp\x1b[0m            - Show all available commands"),c.writeln(""),c.writeln("\x1b[32m\u2713 Ready\x1b[0m"),x(),S();break;case"error":c.writeln(`\x1b[91m${e.text}\x1b[0m`),c.scrollToBottom();break;case"ls":e.files.forEach(e=>c.writeln(e)),c.writeln(""),c.scrollToBottom(),n=!1,x();break;case"cat":const r=e.content.split("\n");r.forEach((e,t)=>{t===r.length-1&&""===e||c.write(e+"\r\n")}),c.write("\r\n"),c.scrollToBottom(),n=!1,x();break;case"pwd":i=e.path,c.writeln(i+"\r\n"),n=!1,x();break;case"cd":i=e.path,n=!1,x();break;case"mkdir":n=!1,x(),S();break;case"writeFile":case"syncFiles":S()}}function x(){c.write(`\r\n\x1b[36m${i}\x1b[0m \x1b[32m$\x1b[0m `),setTimeout(()=>{c.scrollToBottom();const e=c.buffer.active;c.scrollToLine(e.baseY+e.cursorY)},0)}function E(){m&&m.fit()}async function B(e){if(!d||!l)return c.writeln("\x1b[91mModule not ready yet, please wait...\x1b[0m\r\n"),void x();n=!0;const t=e.trim().split(/\s+/),r=t[0],o=t.slice(1);try{switch(r){case"clear":c.clear(),n=!1,x();break;case"pwd":l.postMessage({type:"pwd"});break;case"cd":let e;e=0===o.length?"/":".."===o[0]?"/"!==i&&i.substring(0,i.lastIndexOf("/"))||"/":o[0].startsWith("/")?o[0]:"/"===i?"/"+o[0]:i+"/"+o[0],l.postMessage({type:"cd",data:{path:e}});break;case"ls":const t=o.length>0?o[0]:i;l.postMessage({type:"ls",data:{path:t}});break;case"mkdir":if(0===o.length)c.writeln("mkdir: missing operand\r\n"),n=!1,x();else{const e=o[0].startsWith("/")?o[0]:"/"===i?"/"+o[0]:i+"/"+o[0];l.postMessage({type:"mkdir",data:{path:e}})}break;case"cat":if(0===o.length)c.writeln("cat: missing operand\r\n"),n=!1,x();else{const e=o[0].startsWith("/")?o[0]:"/"===i?"/"+o[0]:i+"/"+o[0];l.postMessage({type:"cat",data:{path:e}})}break;case"help":c.writeln("\x1b[1mAvailable commands:\x1b[0m"),c.writeln("  \x1b[36mocc <args>\x1b[0m  - Run OCC with arguments"),c.writeln("  \x1b[36mls [dir]\x1b[0m    - List directory contents"),c.writeln("  \x1b[36mcd <dir>\x1b[0m    - Change directory"),c.writeln("  \x1b[36mpwd\x1b[0m         - Print working directory"),c.writeln("  \x1b[36mcat <file>\x1b[0m  - Display file contents"),c.writeln("  \x1b[36mmkdir <dir>\x1b[0m - Create directory"),c.writeln("  \x1b[36mclear\x1b[0m       - Clear the terminal"),c.writeln("  \x1b[36mhelp\x1b[0m        - Show this help"),c.writeln(""),c.writeln("\x1b[1mPre-loaded sample files:\x1b[0m"),c.writeln("  \x1b[33mwater.xyz\x1b[0m   - Water molecule (XYZ format)"),c.writeln("  \x1b[33murea.cif\x1b[0m    - Urea crystal structure (CIF format)"),c.writeln(""),c.writeln("\x1b[90mTip: Use Up/Down arrows for command history"),c.writeln("Tip: Drag & drop files to upload to the virtual filesystem\x1b[0m\r\n"),n=!1,x();break;case"occ":return void await $(o);default:c.writeln(`\x1b[91mCommand not found: ${r}\x1b[0m`),c.writeln('Type "help" for available commands\r\n'),n=!1,x()}}catch(a){c.writeln(`\x1b[91mError: ${a.message}\x1b[0m\r\n`),n=!1,x()}}async function $(e){if(l)return new Promise((t,r)=>{C("Running...",!1);new Promise(e=>{const t=r=>{"getFiles"===r.data.type&&(l.removeEventListener("message",t),e(r.data.files))};l.addEventListener("message",t),l.postMessage({type:"getFiles",data:{path:"/"}})}).then(o=>{const a=new Worker("/occ-run-worker.js");a.onmessage=e=>{const{type:r,text:i,code:o,files:s}=e.data;switch(r){case"output":c.writeln(i),c.scrollToBottom();break;case"error":c.writeln(`\x1b[91m${i}\x1b[0m`),c.scrollToBottom();break;case"ready":break;case"exit":l.postMessage({type:"syncFiles",data:{files:s}}),C(0===o?"Ready":"Error",0===o),a.terminate(),n=!1,c.scrollToBottom(),x(),t(o)}},a.onerror=e=>{c.writeln(`\x1b[91mWorker error: ${e.message}\x1b[0m`),C("Error",!1),a.terminate(),n=!1,x(),r(e)},a.postMessage({command:e.join(" "),cwd:i,files:o})})})}function C(e,t){const r=document.getElementById("statusIndicator"),i=document.getElementById("statusText");f();if(i&&(i.textContent=e),r){r.className=t?"status-ready":"Error"===e?"status-error":"";const i=getComputedStyle(document.documentElement).getPropertyValue("--ifm-color-success").trim(),o=getComputedStyle(document.documentElement).getPropertyValue("--ifm-color-danger").trim(),s=getComputedStyle(document.documentElement).getPropertyValue("--ifm-color-secondary").trim();r.style.color=t?i:"Error"===e?o:s,r.style.cursor="help";const l=t?"\u2713":"Error"===e||"Limited Mode"===e?"\u25cf":"\u25cb",{hasSharedArrayBuffer:d,isCrossOriginIsolated:m,hasWorker:u}=(0,a.k)(),f=["SharedArrayBuffer: "+(d?"\u2713":"\u2717"),"Cross-Origin Isolated: "+(m?"\u2713":"\u2717"),"Web Workers: "+(u?"\u2713":"\u2717"),`User Agent: ${navigator.userAgent.split(" ").slice(-2).join(" ")}`].join("\n");r.innerHTML=`\n        <span>${l}</span>\n        <span id="statusText" title="${f}">${e}</span>\n      `,r.onclick=()=>{c&&(c.writeln("\r\n\x1b[1;36m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m"),c.writeln("\x1b[1mSystem Diagnostics:\x1b[0m"),c.writeln("\x1b[1;36m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m"),c.writeln(""),c.writeln("  SharedArrayBuffer:      "+(d?"\x1b[32m\u2713 Supported\x1b[0m":"\x1b[31m\u2717 Not available\x1b[0m")),c.writeln("  Cross-Origin Isolated:  "+(m?"\x1b[32m\u2713 Enabled\x1b[0m":"\x1b[31m\u2717 Disabled\x1b[0m")),c.writeln("  Web Workers:            "+(u?"\x1b[32m\u2713 Supported\x1b[0m":"\x1b[31m\u2717 Not available\x1b[0m")),c.writeln("  Multi-threading:        "+(d&&m?"\x1b[32m\u2713 Available\x1b[0m":"\x1b[33m\u26a0 Limited\x1b[0m")),c.writeln(""),c.writeln(`  Browser: ${navigator.userAgent}`),c.writeln(""),c.writeln("\x1b[1;36m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m"),n||x())}}}function S(){if(!l)return;const e=t=>{"getFiles"===t.data.type&&(l.removeEventListener("message",e),L(t.data.files))};l.addEventListener("message",e),l.postMessage({type:"getFiles",data:{path:"/"}})}new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type&&"data-theme"===e.attributeName){const e=f(),t=e.isDark?{background:"#1a1b26",foreground:"#c0caf5",cursor:"#c0caf5",cursorAccent:"#1a1b26",selection:"rgba(122, 162, 247, 0.3)",black:"#15161e",red:"#f7768e",green:"#9ece6a",yellow:"#e0af68",blue:"#7aa2f7",magenta:"#bb9af7",cyan:"#7dcfff",white:"#a9b1d6",brightBlack:"#414868",brightRed:"#f7768e",brightGreen:"#9ece6a",brightYellow:"#e0af68",brightBlue:"#7aa2f7",brightMagenta:"#bb9af7",brightCyan:"#7dcfff",brightWhite:"#c0caf5"}:{background:"#e1e2e7",foreground:"#3760bf",cursor:"#3760bf",cursorAccent:"#e1e2e7",selection:"rgba(46, 125, 233, 0.2)",black:"#e9e9ed",red:"#f52a65",green:"#587539",yellow:"#8c6c3e",blue:"#2e7de9",magenta:"#9854f1",cyan:"#007197",white:"#6172b0",brightBlack:"#a8aecb",brightRed:"#f52a65",brightGreen:"#587539",brightYellow:"#8c6c3e",brightBlue:"#2e7de9",brightMagenta:"#9854f1",brightCyan:"#007197",brightWhite:"#3760bf"};c.options.theme=t;const r=document.getElementById("fileSidebar"),n=document.getElementById("terminalContainer"),i=document.getElementById("statusBar"),o=document.getElementById("fileHeader"),a=document.getElementById("refreshBtn");r&&(r.style.background=b(e.isDark),r.style.borderRight=`1px solid ${e.border}`),n&&(n.style.background=g(e.isDark)),i&&(i.style.background=e.isDark?"#24283b":"#dfe0e8",i.style.border="1px solid "+(e.isDark?"#414868":"#c4c6d4"),i.style.color=e.isDark?"#a9b1d6":"#6172b0"),o&&(o.style.borderBottom=`1px solid ${e.border}`,o.style.color=e.foreground),a&&(a.style.background=e.border,a.style.color=e.foreground)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),c.onData(e=>{if(!n)if("\x1b[A"!==e)if("\x1b[B"!==e){if("\r"===e)return c.write("\r\n"),void(r.trim()?(o.push(r.trim()),s=-1,B(r.trim()),r=""):x());if("\x7f"!==e)return"\x03"===e?(c.write("^C\r\n"),r="",n=!1,void x()):void(e>=String.fromCharCode(32)&&e<=String.fromCharCode(126)&&(r+=e,c.write(e)));r.length>0&&(r=r.slice(0,-1),c.write("\b \b"))}else s>0?(c.write("\r\x1b[K"),x(),s--,r=o[o.length-1-s],c.write(r)):0===s&&(c.write("\r\x1b[K"),x(),s=-1,r="");else o.length>0&&s<o.length-1&&(c.write("\r\x1b[K"),x(),s++,r=o[o.length-1-s],c.write(r))}),window.addEventListener("resize",E),setTimeout(E,100);const I=new Set(["/"]);function L(e){const t=document.getElementById("fileList");if(!t)return;const r=Object.keys(e).sort();if(0===r.length)return void(t.innerHTML='<div style="padding: 2rem 1rem; text-align: center; color: #565f89; font-size: 0.85rem;">No files</div>');const n={};function i(e,t=0,r=""){let n="";for(const[o,a]of Object.entries(e)){if("_files"===o)continue;const e=r+"/"+o,s=I.has(e);n+=`\n          <div class="dir-item" data-dir="${e}" style="padding: 0.4rem 1rem; padding-left: ${1.5*t+1}rem; color: var(--ifm-font-color-base); cursor: pointer; display: flex; align-items: center; gap: 0.25rem; font-size: 0.85rem; font-family: 'Menlo', 'Monaco', 'Courier New', monospace; transition: background 0.15s; user-select: none; font-weight: 500;">\n            <span style="font-size: 0.6rem; width: 12px; transition: transform 0.15s; flex-shrink: 0; ${s?"transform: rotate(90deg);":""}">\u25b6</span>\n            <span>${o}/</span>\n          </div>\n          <div class="dir-children" data-parent="${e}" style="display: ${s?"block":"none"};">\n            ${i(a,t+1,e)}\n          </div>\n        `}return e._files&&e._files.forEach(e=>{const r=1.5*t;n+=`\n            <div class="file-item" data-path="${e.path}" style="padding: 0.4rem 1rem; padding-left: ${r+1.2}rem; color: var(--ifm-font-color-base); cursor: pointer; display: flex; align-items: center; gap: 0.25rem; font-size: 0.85rem; font-family: 'Menlo', 'Monaco', 'Courier New', monospace; transition: background 0.15s; user-select: none;">\n              <span>${e.name}</span>\n            </div>\n          `}),n}r.forEach(e=>{const t=e.split("/").filter(e=>e);let r=n;t.forEach((n,i)=>{i===t.length-1?(r._files||(r._files=[]),r._files.push({name:n,path:e})):(r[n]||(r[n]={}),r=r[n])})}),t.innerHTML=i(n),t.querySelectorAll(".dir-item").forEach(e=>{e.addEventListener("click",r=>{r.stopPropagation();const n=e.dataset.dir,i=e.querySelector("span"),o=t.querySelector(`.dir-children[data-parent="${n}"]`);I.has(n)?(I.delete(n),i&&(i.style.transform=""),o&&(o.style.display="none")):(I.add(n),i&&(i.style.transform="rotate(90deg)"),o&&(o.style.display="block"))}),e.addEventListener("mouseenter",()=>{e.style.background="var(--ifm-color-emphasis-100)"}),e.addEventListener("mouseleave",()=>{e.style.background=""})}),t.querySelectorAll(".file-item").forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.path;A(r,e[r])}),t.addEventListener("mouseenter",()=>{t.style.background="var(--ifm-color-emphasis-100)"}),t.addEventListener("mouseleave",()=>{t.style.background=""})})}function A(e,t){const r=new Blob([t],{type:"application/octet-stream"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e.split("/").pop()||"download",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),c.writeln(`\x1b[32mDownloaded: ${e}\x1b[0m\r\n`)}const T=document.getElementById("refreshBtn");T&&T.addEventListener("click",S);const M=document.getElementById("sidebarToggle"),D=document.getElementById("closeSidebarBtn"),W=document.getElementById("fileSidebar");let O=!1;function j(){const e=window.innerWidth<=768,t=document.getElementById("terminalContainer");M&&D&&W&&t&&(e?(M.style.display=O?"block":"none",D.style.display="inline-block",W.style.position="fixed",W.style.left="0",W.style.top="var(--ifm-navbar-height)",W.style.height="calc(100% - var(--ifm-navbar-height))",W.style.zIndex="1000",W.style.boxShadow="2px 0 8px rgba(0,0,0,0.2)",t.style.paddingLeft="0.5rem",W.style.transform=O?"translateX(-100%)":"translateX(0)"):(M.style.display="none",D.style.display="none",W.style.position="relative",W.style.transform="translateX(0)",W.style.boxShadow="none",t.style.paddingLeft="1rem",O=!1))}M&&M.addEventListener("click",()=>{O=!1,j()});D&&D.addEventListener("click",()=>{O=!0,j()});window.addEventListener("resize",j),j();const z=u.querySelector("div:nth-child(2)"),P=document.getElementById("dropOverlay");z&&P&&(z.addEventListener("dragover",e=>{e.preventDefault(),P.style.display="flex"}),z.addEventListener("dragleave",e=>{e.target===z&&(P.style.display="none")}),z.addEventListener("drop",async e=>{if(e.preventDefault(),P.style.display="none",!l)return;const t=Array.from(e.dataTransfer?.files||[]);for(const r of t){const e=await r.arrayBuffer(),t=new Uint8Array(e);l.postMessage({type:"writeFile",data:{path:"/"===i?"/"+r.name:i+"/"+r.name,content:t}}),c.writeln(`\x1b[32mUploaded: ${r.name}\x1b[0m\r\n`)}setTimeout(S,100)}));C("Initializing...",!1),k()}(r,n)}),()=>{}},[]),(0,s.jsx)("div",{id:"terminal-app",style:{display:"flex",height:"100%",width:"100%",background:"var(--ifm-background-color)",overflow:"hidden"}})}}}]);