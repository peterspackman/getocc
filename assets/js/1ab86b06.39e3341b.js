"use strict";(self.webpackChunkgetocc=self.webpackChunkgetocc||[]).push([[461],{1705:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(6540),i=s(8478),r=s(1878);const l={container:"container_TLw4",header:"header_jWNY",collapseButton:"collapseButton_Mxty",snippet:"snippet_wV3E",ellipsis:"ellipsis_AIQO",explanation:"explanation_NFml",noOutput:"noOutput_vK_S",highlight:"highlight_pqPr"};var a=s(4848);function o(e,t){const s="string"==typeof t?new RegExp(t,"g"):t,n=[];let i,r=0;for(s.lastIndex=0;null!==(i=s.exec(e));)i.index>r&&n.push(e.substring(r,i.index)),n.push((0,a.jsx)("span",{className:l.highlight,children:i[0]},i.index)),r=i.index+i[0].length;return r<e.length&&n.push(e.substring(r)),n.length>0?n:e}function c({commandId:e,pattern:t,startPattern:s,endPattern:i,startLine:c,endLine:d,title:h,maxLines:u,highlightPattern:m,children:p}){const[g,x]=(0,n.useState)(!1),[f,j]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{const n=()=>{const n=(0,r.X)(e);if(!n)return void j("");let l="";if(s||i){const e=n.split("\n");let t=0,r=e.length;if(s){const n="string"==typeof s?new RegExp(s):s;t=e.findIndex(e=>n.test(e)),-1===t&&(t=0)}if(i){const s="string"==typeof i?new RegExp(i):i,n=e.slice(t+1).findIndex(e=>s.test(e));-1!==n&&(r=t+1+n)}l=e.slice(t,r).join("\n")}else if(t){const e="string"==typeof t?new RegExp(t,"gm"):t,s=n.match(e);l=s?s.join("\n"):""}else if(void 0!==c){const e=n.split("\n"),t=c-1,s=void 0!==d?d:t+1;l=e.slice(t,s).join("\n")}else l=n;if(u&&l){const e=l.split("\n");e.length>u?(j(e.slice(0,u).join("\n")),y(!0)):(j(l),y(!1))}else j(l),y(!1)};n();const l=setInterval(n,500);return()=>clearInterval(l)},[e,t,s,i,c,d,u]),f?(0,a.jsxs)("div",{className:l.container,children:[h&&(0,a.jsxs)("div",{className:l.header,onClick:()=>x(!g),children:[(0,a.jsx)("strong",{children:h}),(0,a.jsx)("button",{className:l.collapseButton,children:g?"\u25b6":"\u25bc"})]}),!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("pre",{className:l.snippet,children:[m?o(f,m):f,b&&(0,a.jsx)("span",{className:l.ellipsis,children:"\n..."})]}),p&&(0,a.jsx)("div",{className:l.explanation,children:p})]})]}):(0,a.jsx)("div",{className:l.container,children:(0,a.jsx)("div",{className:l.noOutput,children:(0,a.jsx)("em",{children:"Run the command above to see the output snippet here."})})})}function d(e){return(0,a.jsx)(i.A,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:()=>(0,a.jsx)(c,{...e})})}},1878:(e,t,s)=>{s.d(t,{H:()=>i,X:()=>r});const n=new Map;function i(e,t){n.set(e,t)}function r(e){return n.get(e)}},3440:(e,t,s)=>{s.d(t,{A:()=>r});s(6540);const n={container:"container_kzAw",leftPanel:"leftPanel_mtYq",rightPanel:"rightPanel_U6Mb"};var i=s(4848);function r({children:e}){const[t,s]=e;return(0,i.jsxs)("div",{className:n.container,children:[(0,i.jsx)("div",{className:n.leftPanel,children:t}),(0,i.jsx)("div",{className:n.rightPanel,children:s})]})}},8010:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>M,contentTitle:()=>B,default:()=>A,frontMatter:()=>E,metadata:()=>n,toc:()=>P});const n=JSON.parse('{"id":"crystal-growth-morphology","title":"Crystal Growth & Surface Energies","description":"Just about the only thing we know without doubt about crystal growth is that crystals do, in fact, grow.","source":"@site/docs/crystal-growth-morphology.mdx","sourceDirName":".","slug":"/crystal-growth-morphology","permalink":"/docs/crystal-growth-morphology","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Crystal Structures & Lattice Energies","permalink":"/docs/crystal-lattice-energies"}}');var i=s(4848),r=s(8453),l=s(9970),a=s(9623),o=s(6540),c=s(8478),d=s(2428),h=s(5003),u=s(2805),m=s(8768);const p={container:"container_SM_Y",header:"header_MHwE",title:"title_KC_p",controls:"controls_1r7W",modeButton:"modeButton_kj_u",modeButtonActive:"modeButtonActive_vInJ",viewerWrapper:"viewerWrapper_OcU4",placeholder:"placeholder_Swkq"};function g({data:e,color:t}){const[n,r]=(0,o.useState)(null),l=o.useRef();return(0,o.useEffect)(()=>{Promise.all([s.e(667).then(s.bind(s,5048)),Promise.resolve().then(s.bind(s,9437))]).then(([{PLYLoader:t},s])=>{const n=new t,i=new Blob([e]),l=URL.createObjectURL(i);n.load(l,e=>{e.computeBoundingBox();const t=e.boundingBox.getCenter(new s.Vector3);e.translate(-t.x,-t.y,-t.z);const n=e.boundingBox.getSize(new s.Vector3),i=4/Math.max(n.x,n.y,n.z);e.scale(i,i,i),r(e),URL.revokeObjectURL(l)})})},[e]),n?(0,i.jsx)("mesh",{ref:l,geometry:n,children:(0,i.jsx)("meshStandardMaterial",{color:t,flatShading:!0,metalness:.1,roughness:.6})}):null}function x({vacuumFile:e,solvatedFile:t,height:s=500,width:n="100%"}){const[r,l]=(0,o.useState)("vacuum"),[a,c]=(0,o.useState)(null),[x,f]=(0,o.useState)(null),[j,b]=(0,o.useState)(0);(0,o.useEffect)(()=>m.b.subscribe(()=>{b(e=>e+1)}),[]),(0,o.useEffect)(()=>{const s=m.b.getFiles(),n=e.startsWith("/")?e:"/"+e,i=t.startsWith("/")?t:"/"+t;s[n]&&c(s[n]),s[i]&&f(s[i])},[e,t,j]);const y="vacuum"===r?a:x,v="vacuum"===r?"#ff8c42":"#4a90e2",_=null!==y;return(0,i.jsxs)("div",{className:p.container,style:{width:n,height:s},children:[(0,i.jsxs)("div",{className:p.header,children:[(0,i.jsx)("div",{className:p.title,children:"Crystal Morphology"}),(0,i.jsxs)("div",{className:p.controls,children:[(0,i.jsx)("button",{className:`${p.modeButton} ${"vacuum"===r?p.modeButtonActive:""}`,onClick:()=>l("vacuum"),disabled:!a,children:"Vacuum"}),(0,i.jsx)("button",{className:`${p.modeButton} ${"solvated"===r?p.modeButtonActive:""}`,onClick:()=>l("solvated"),disabled:!x,children:"Water"})]})]}),(0,i.jsx)("div",{className:p.viewerWrapper,children:_?(0,i.jsxs)(d.Hl,{children:[(0,i.jsx)(h.q,{makeDefault:!0,position:[7,7,7],zoom:100}),(0,i.jsx)(u.N,{enableDamping:!0,dampingFactor:.05,target:[0,0,0]}),(0,i.jsx)("ambientLight",{intensity:.8}),(0,i.jsx)("directionalLight",{position:[10,10,5],intensity:1.2}),(0,i.jsx)("directionalLight",{position:[-10,-10,-5],intensity:.6}),(0,i.jsx)("directionalLight",{position:[0,10,0],intensity:.4}),(0,i.jsx)("axesHelper",{args:[5]}),(0,i.jsx)(o.Suspense,{fallback:null,children:(0,i.jsx)(g,{data:y,color:v})})]}):(0,i.jsx)("div",{className:p.placeholder,children:"Run the crystal growth calculations above to visualize morphologies"})})]})}function f(e){return(0,i.jsx)(c.A,{fallback:(0,i.jsx)("div",{children:"Loading viewer..."}),children:()=>(0,i.jsx)(x,{...e})})}var j=s(4922);const b={container:"container_ElVF",header:"header_b7IG",title:"title_tLQ0",controls:"controls_e4Hn",modeButton:"modeButton_JDeN",modeButtonActive:"modeButtonActive_PS4H",checkboxLabel:"checkboxLabel_pSlR",viewerWrapper:"viewerWrapper_OIda",placeholder:"placeholder_S4nZ"},y={1:1.2,6:1.7,7:1.55,8:1.52,9:1.47,15:1.8,16:1.8,17:1.75,35:1.85,53:1.98},v={1:"#FFFFFF",6:"#909090",7:"#3050F8",8:"#FF0D0D"};function _({atoms:e}){const t=.529177;return(0,i.jsx)("group",{children:e.map((e,s)=>{const n=e.pos[0]*t,r=e.pos[1]*t,l=e.pos[2]*t,a=y[e.n]||1.5,o=v[e.n]||"#CCCCCC";return(0,i.jsxs)("mesh",{position:[n,r,l],children:[(0,i.jsx)("sphereGeometry",{args:[a,16,16]}),(0,i.jsx)("meshStandardMaterial",{color:o,flatShading:!0})]},s)})})}function w({positions:e,energies:t,neighbors:s,colorMode:n,baseColor:r}){const[l,a]=(0,o.useMemo)(()=>{let i;if(console.log("PointCloud: Computing geometry for color mode:",n),i="energy"===n?t:"neighbor"===n?s:null,!e||0===e[0].length)return console.log("PointCloud: No positions data"),[null,null];console.log("PointCloud: Creating arrays for",e[0].length,"points");const l=new Float32Array(3*e[0].length),a=new Float32Array(3*e[0].length);let o=0,c=1,d=1;i&&(o=Math.min(...i),c=Math.max(...i),d=c-o);for(let t=0;t<e[0].length;t++)if(l[3*t]=e[0][t],l[3*t+1]=e[1][t],l[3*t+2]=e[2][t],"uniform"===n)a[3*t]=r[0],a[3*t+1]=r[1],a[3*t+2]=r[2];else{const e=i[t];let s,r,l;if("neighbor"===n){const t=[[.89,.1,.11],[.22,.49,.72],[.3,.69,.29],[.6,.31,.64],[1,.5,0],[1,1,.2],[.65,.34,.16],[.97,.51,.75],[.5,.5,.5],[.09,.75,.81]],n=Math.floor(e)%t.length;s=t[n][0],r=t[n][1],l=t[n][2]}else{const t=d>0?1-(e-o)/d:.5;if(t<.25){const e=t/.25;s=.993*(1-e)+.478*e,r=.906*(1-e)+.647*e,l=.144*(1-e)+.408*e}else if(t<.5){const e=(t-.25)/.25;s=.478*(1-e)+.164*e,r=.647*(1-e)+.384*e,l=.408*(1-e)+.553*e}else if(t<.75){const e=(t-.5)/.25;s=.164*(1-e)+.282*e,r=.384*(1-e)+.141*e,l=.553*(1-e)+.471*e}else{const e=(t-.75)/.25;s=.282*(1-e)+.267*e,r=.141*(1-e)+.005*e,l=.471*(1-e)+.329*e}}a[3*t]=s,a[3*t+1]=r,a[3*t+2]=l}return console.log("PointCloud: First 3 positions:",l[0],l[1],l[2]),console.log("PointCloud: First 3 colors:",a[0],a[1],a[2]),[l,a]},[e,t,s,n,r]);if(!l||!a)return console.log("PointCloud: Returning null - no arrays"),null;console.log("PointCloud: Rendering with",l.length/3,"points");const c=(0,o.useRef)();return(0,o.useEffect)(()=>{c.current&&l&&a&&(console.log("PointCloud: Setting attributes on geometry"),c.current.setAttribute("position",new j.THS(l,3)),c.current.setAttribute("color",new j.THS(a,3)),c.current.attributes.position.needsUpdate=!0,c.current.attributes.color.needsUpdate=!0,c.current.computeBoundingSphere(),console.log("PointCloud: Attributes set, bounding sphere:",c.current.boundingSphere))},[l,a]),(0,i.jsxs)("points",{children:[(0,i.jsx)("bufferGeometry",{ref:c,attach:"geometry"}),(0,i.jsx)("shaderMaterial",{attach:"material",vertexShader:"\n          attribute vec3 color;\n          varying vec3 vColor;\n\n          void main() {\n            vColor = color;\n            vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n            gl_PointSize = 5.0;\n            gl_Position = projectionMatrix * mvPosition;\n          }\n        ",fragmentShader:"\n          varying vec3 vColor;\n\n          void main() {\n            // Make points circular by discarding fragments outside circle\n            vec2 coord = gl_PointCoord - vec2(0.5);\n            if (length(coord) > 0.5) {\n              discard;\n            }\n            gl_FragColor = vec4(vColor, 1.0);\n          }\n        ",depthWrite:!0})]})}function N({surfaceFile:e,height:t=500,width:s="100%"}){const[n,r]=(0,o.useState)(null),[l,a]=(0,o.useState)("uniform"),[c,h]=(0,o.useState)("both"),[p,g]=(0,o.useState)(!0),[x,f]=(0,o.useState)(0);(0,o.useEffect)(()=>m.b.subscribe(()=>{f(e=>e+1)}),[]),(0,o.useEffect)(()=>{const t=m.b.getFiles(),s=e.replace("_surface.json",""),n=s.startsWith("/")?s:"/"+s;console.log("SolventSurfaceViewer: Looking for files with base:",n),console.log("SolventSurfaceViewer: Available VFS files:",Object.keys(t));const i=`${n}_cds.txt`,l=`${n}_coulomb.txt`;if(t[i]&&t[l])try{const e=new TextDecoder,s=e.decode(t[i]).trim().split("\n"),o=parseInt(s[0]),c=[],d=[],h=[],u=[],m=[];for(let t=2;t<s.length&&t<o+2;t++){const e=s[t].trim().split(/\s+/);e.length>=5&&(c.push(parseFloat(e[0])),d.push(parseFloat(e[1])),h.push(parseFloat(e[2])),u.push(parseFloat(e[3])),m.push(parseInt(e[4])))}const p=e.decode(t[l]).trim().split("\n"),g=parseInt(p[0]),x=[],f=[],j=[],b=[],y=[];for(let t=2;t<p.length&&t<g+2;t++){const e=p[t].trim().split(/\s+/);e.length>=5&&(x.push(parseFloat(e[0])),f.push(parseFloat(e[1])),j.push(parseFloat(e[2])),b.push(parseFloat(e[3])),y.push(parseInt(e[4])))}let v;console.log("SolventSurfaceViewer: Loaded",c.length,"CDS points"),console.log("SolventSurfaceViewer: Loaded",x.length,"Coulomb points");const _=`${n}.owf.json`;if(t[_])try{const s=e.decode(t[_]),n=JSON.parse(s);n.atoms&&(v=n.atoms,console.log("SolventSurfaceViewer: Loaded",v.length,"atoms from wavefunction"))}catch(a){console.warn("SolventSurfaceViewer: Could not load atoms:",a)}r({cds:{positions:[c,d,h],energies:u,neighbors:m},coulomb:{positions:[x,f,j],energies:b,neighbors:y},atoms:v}),console.log("SolventSurfaceViewer: Surface data loaded successfully")}catch(a){console.error("Error loading surface data:",a)}else console.log("SolventSurfaceViewer: Text files not found in VFS")},[e,x]);const j=null!==n;return(0,i.jsxs)("div",{className:b.container,style:{width:s,height:t},children:[(0,i.jsxs)("div",{className:b.header,children:[(0,i.jsx)("div",{className:b.title,children:"Solvent Accessible Surface"}),(0,i.jsxs)("div",{className:b.controls,children:[(0,i.jsx)("button",{className:`${b.modeButton} ${"cds"===c?b.modeButtonActive:""}`,onClick:()=>h("cds"),disabled:!j,children:"CDS"}),(0,i.jsx)("button",{className:`${b.modeButton} ${"coulomb"===c?b.modeButtonActive:""}`,onClick:()=>h("coulomb"),disabled:!j,children:"Coulomb"}),(0,i.jsx)("button",{className:`${b.modeButton} ${"both"===c?b.modeButtonActive:""}`,onClick:()=>h("both"),disabled:!j,children:"Both"}),(0,i.jsx)("span",{style:{margin:"0 0.5rem",color:"var(--ifm-color-emphasis-500)"},children:"|"}),(0,i.jsx)("button",{className:`${b.modeButton} ${"uniform"===l?b.modeButtonActive:""}`,onClick:()=>a("uniform"),disabled:!j,children:"Uniform"}),(0,i.jsx)("button",{className:`${b.modeButton} ${"energy"===l?b.modeButtonActive:""}`,onClick:()=>a("energy"),disabled:!j,children:"Energy"}),(0,i.jsx)("button",{className:`${b.modeButton} ${"neighbor"===l?b.modeButtonActive:""}`,onClick:()=>a("neighbor"),disabled:!j,children:"Neighbor"}),(0,i.jsx)("span",{style:{margin:"0 0.5rem",color:"var(--ifm-color-emphasis-500)"},children:"|"}),(0,i.jsxs)("label",{className:b.checkboxLabel,children:[(0,i.jsx)("input",{type:"checkbox",checked:p,onChange:e=>g(e.target.checked),disabled:!j||!n?.atoms}),(0,i.jsx)("span",{style:{marginLeft:"0.4rem"},children:"Show Atoms"})]})]})]}),(0,i.jsx)("div",{className:b.viewerWrapper,children:j?(0,i.jsxs)(d.Hl,{camera:{position:[10,10,10],fov:50},children:[(0,i.jsx)(u.N,{enableDamping:!0,dampingFactor:.05,target:[0,0,0]}),(0,i.jsx)("ambientLight",{intensity:.6}),(0,i.jsx)("directionalLight",{position:[10,10,5],intensity:.8}),(0,i.jsx)("directionalLight",{position:[-10,-10,-5],intensity:.4}),(0,i.jsx)("axesHelper",{args:[5]}),p&&n.atoms&&(0,i.jsx)(_,{atoms:n.atoms}),("cds"===c||"both"===c)&&(0,i.jsx)(w,{positions:n.cds.positions,energies:n.cds.energies,neighbors:n.cds.neighbors,colorMode:l,baseColor:[0,.5,1]}),("coulomb"===c||"both"===c)&&(0,i.jsx)(w,{positions:n.coulomb.positions,energies:n.coulomb.energies,neighbors:n.coulomb.neighbors,colorMode:l,baseColor:[1,.35,0]})]}):(0,i.jsx)("div",{className:b.placeholder,children:"Run the crystal growth calculations above to visualize the solvent surface"})})]})}function C(e){return(0,i.jsx)(c.A,{fallback:(0,i.jsx)("div",{children:"Loading viewer..."}),children:()=>(0,i.jsx)(N,{...e})})}var S=s(8529),k=s(9024),F=s(3440);const E={sidebar_position:5},B="Crystal Growth & Surface Energies",M={},P=[{value:"Introduction to Crystal Morphology",id:"introduction-to-crystal-morphology",level:2},{value:"Input Structure",id:"input-structure",level:2},{value:"Crystal Growth Calculation",id:"crystal-growth-calculation",level:2},{value:"Understanding the Output",id:"understanding-the-output",level:2},{value:"Solvent Accessible Surface",id:"solvent-accessible-surface",level:3},{value:"Free Energy Summary",id:"free-energy-summary",level:3},{value:"Neighbour Interactions",id:"neighbour-interactions",level:3},{value:"Surface Energies",id:"surface-energies",level:3},{value:"Visualizing Crystal Morphology",id:"visualizing-crystal-morphology",level:3},{value:"Physical Interpretation",id:"physical-interpretation",level:2},{value:"Why Surface Energy Matters",id:"why-surface-energy-matters",level:3},{value:"Solvent Effects",id:"solvent-effects",level:3},{value:"Next Steps",id:"next-steps",level:2}];function L(e){const t={a:"a",admonition:"admonition",annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mi:"mi",mrow:"mrow",msub:"msub",mtext:"mtext",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"crystal-growth--surface-energies",children:"Crystal Growth & Surface Energies"})}),"\n",(0,i.jsx)(t.p,{children:"Just about the only thing we know without doubt about crystal growth is that crystals do, in fact, grow.\nThey grow from solution, from the melt, from gas via sublimation, from seeds and have many, many growth regimes.\nAll the stuff in the middle, between going from solution/gas phase to a small crystal (e.g. nucleation, growth) is,\nto say the least, complex but that doesn't stop us introducting some approximations to hopefully help guide us\nin the pursuit of controlling the overall growth and resulting properties of crystals!"}),"\n",(0,i.jsx)(t.h2,{id:"introduction-to-crystal-morphology",children:"Introduction to Crystal Morphology"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.strong,{children:"morphology"})," of a crystal is its external shape - which faces appear and their relative sises. Understanding and predicting crystal morphology is crucial for:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Pharmaceuticals"})," - Crystal shape affects dissolution, flowability, compaction"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Materials"})," - Morphology influences optical, electronic, mechanical properties"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Process optimisation"})," - Control crystallisation to get desired shapes"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["At equilibrium, the resulting crystal shape is in-principle determined by ",(0,i.jsx)(t.strong,{children:"surface energies"}),": lower energy\nfaces grow slower and appear larger in the final crystal. Solvents can dramatically affect morphology\nby stabilizing certain faces more than others. This is effectively the same thing as surface tension, but\nliquids are basically isotropic/lack distinct facets - unlike nicely ordered crystals."]}),"\n",(0,i.jsx)(t.h2,{id:"input-structure",children:"Input Structure"}),"\n",(0,i.jsxs)(t.p,{children:["We'll continue with the urea crystal structure from the ",(0,i.jsx)(t.a,{href:"./crystal-lattice-energies",children:"previous tutorial"}),":"]}),"\n",(0,i.jsxs)(F.A,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(S.A,{file:"input.cif",height:400,initialContent:"data_urea\n_symmetry_space_group_name_H-M   'P -4 21 m'\n_symmetry_Int_Tables_number      113\nloop_\n_symmetry_equiv_pos_site_id\n_symmetry_equiv_pos_as_xyz\n1 x,y,z\n2 -y,x,-z\n3 -x,-y,z\n4 y,-x,-z\n5 1/2-x,1/2+y,-z\n6 1/2+y,1/2+x,z\n7 1/2+x,1/2-y,-z\n8 1/2-y,1/2-x,z\n_cell_length_a                   5.582\n_cell_length_b                   5.582\n_cell_length_c                   4.686\n_cell_angle_alpha                90\n_cell_angle_beta                 90\n_cell_angle_gamma                90\n_cell_volume                     146.01\n_cell_formula_units_Z            2\nloop_\n_atom_site_label\n_atom_site_type_symbol\n_atom_site_fract_x\n_atom_site_fract_y\n_atom_site_fract_z\nC1 C 0.00000 0.50000 0.32720\nH1 H 0.26900 0.76900 0.27900\nH2 H 0.14200 0.64200 -0.02800\nN1 N 0.14550 0.64550 0.18000\nO1 O 0.00000 0.50000 0.59660\nN1B N -0.14550 0.35450 0.18000\nH1B H -0.26900 0.23100 0.27900\nH2B H -0.14200 0.35800 -0.02800"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(k.A,{file:"input.cif",format:"cif",representation:"ball+stick",height:400}),(0,i.jsx)("p",{style:{fontSise:"0.85rem",marginTop:"0.5rem",opacity:.7},children:(0,i.jsx)("em",{children:"Viewer shows the asymmetric unit only"})})]})]}),"\n",(0,i.jsx)(t.h2,{id:"crystal-growth-calculation",children:"Crystal Growth Calculation"}),"\n",(0,i.jsxs)(t.p,{children:["Let's assume the free energies that dictate crystal growth can be expressed as the sum of neighbouring\ninteractions (a big assumption), to get there we can compute interaction energies within the crystal, and\nbreak up the solvation surface into chunks representative of the solvation/desolvation that must happen\nas part of the growth/dissolution process.\nThe below calculation (",(0,i.jsx)(t.a,{href:"https://doi.org/10.1039/D2SC06761G",children:"see paper"}),") automatically computes the gas-phase molecule wavefunction(s), solvated wavefunction(s)\nand all the corresponding energies and partition and prints out a handle table/writes some convenient output files"]}),"\n",(0,i.jsx)(l.A,{id:"urea-cg-water",command:"occ cg input.cif --radius 3.8 --cg-radius 3.8 --solvent water --surface-energies 10",expectedOutputs:["input_vacuum.gmf","input_vacuum.ply","input_water.gmf","input_water.ply","input_water_surface.json","input_water_cg_results.json"],highlights:[{pattern:/\(\d+\s+\d+\s+\d+\).*?J\/m\xb2/g,className:"success",label:"Surface Energy"},{pattern:/Solvation free energy.*?kJ\/mol/g,className:"info",label:"Solvation Energy"},{pattern:/Lattice energy.*?kJ\/mol/g,className:"warning",label:"Lattice Energy"}]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"--radius 3.8"})," - Neighbour cutoff for bulk lattice energy calculations (\xc5)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"--cg-radius 3.8"})," - Neighbour cutoff for surface energy calculations (\xc5)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"--solvent water"})," - Solvent for solvated morphology (also calculates vacuum automatically)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"--surface-energies 10"})," - Calculate surface energies for top 10 crystal facets (ordered by interplanar\nspacing/",(0,i.jsxs)(t.span,{className:"katex",children:[(0,i.jsx)(t.span,{className:"katex-mathml",children:(0,i.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(t.semantics,{children:[(0,i.jsx)(t.mrow,{children:(0,i.jsxs)(t.msub,{children:[(0,i.jsx)(t.mi,{children:"d"}),(0,i.jsx)(t.mtext,{children:"hkl"})]})}),(0,i.jsx)(t.annotation,{encoding:"application/x-tex",children:"d_\\text{hkl}"})]})})}),(0,i.jsx)(t.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(t.span,{className:"base",children:[(0,i.jsx)(t.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(t.span,{className:"mord",children:[(0,i.jsx)(t.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(t.span,{className:"msupsub",children:(0,i.jsxs)(t.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(t.span,{className:"vlist-r",children:[(0,i.jsx)(t.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(t.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(t.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(t.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(t.span,{className:"mord text mtight",children:(0,i.jsx)(t.span,{className:"mord mtight",children:"hkl"})})})]})}),(0,i.jsx)(t.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(t.span,{className:"vlist-r",children:(0,i.jsx)(t.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(t.span,{})})})]})})]})]})})]}),")"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Default energy model"}),": CE-B3LYP (can be changed with ",(0,i.jsx)(t.code,{children:"--model"})," flag)"]}),"\n",(0,i.jsx)(t.h2,{id:"understanding-the-output",children:"Understanding the Output"}),"\n",(0,i.jsx)(t.h3,{id:"solvent-accessible-surface",children:"Solvent Accessible Surface"}),"\n",(0,i.jsx)(t.p,{children:"The calculation generates a detailed point cloud representation of the solvent-accessible surface, partitioned into regions (CDS - Charge Density Surface and Coulomb contributions). Each point has an associated area and energy contribution:"}),"\n",(0,i.jsx)(C,{surfaceFile:"input_0_water_surface.json",height:500}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Color modes:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Uniform"}),": Solid color (blue for CDS, orange for Coulomb)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Energy"}),": Viridis colormap showing energy per surface point (blue/purple = low energy, yellow = high energy)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Neighbor"}),": Each neighboring molecule gets a distinct color, showing which dimer (neighboring molecule pair, not just symmetry-unique dimers) is closest to each part of the surface"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Surface types:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"CDS"})," (blue): Cavitation/Dispersion/repulsion Surface - represents the non-electrostatic (cavity formation, dispersion, exchange-repulsion) surface partition"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Coulomb"})," (orange): Electrostatic surface partition"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Both"}),": Shows both surfaces simultaneously"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["The point cloud shows where solvation stabilization occurs around the molecule. The ",(0,i.jsx)(t.strong,{children:"Neighbor"})," mode is particularly useful for understanding how the surface is partitioned among all neighboring molecules in the crystal packing."]}),"\n",(0,i.jsx)(t.h3,{id:"free-energy-summary",children:"Free Energy Summary"}),"\n",(0,i.jsxs)(a.A,{commandId:"urea-cg-water",pattern:/Free energy estimates.*?[\s\S]+?(?=Neighbours for|Crystal surface)/,title:"Thermodynamic Properties",maxLines:20,children:[(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Key thermodynamic quantities"})," (kJ/mol at 298 K, 1 atm):"]}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"lattice energy (crystal)"}),": Energy to separate crystal into gas-phase molecules (",(0,i.jsxs)(t.span,{className:"katex",children:[(0,i.jsx)(t.span,{className:"katex-mathml",children:(0,i.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(t.semantics,{children:[(0,i.jsx)(t.mrow,{children:(0,i.jsxs)(t.msub,{children:[(0,i.jsx)(t.mi,{children:"E"}),(0,i.jsx)(t.mtext,{children:"lat"})]})}),(0,i.jsx)(t.annotation,{encoding:"application/x-tex",children:"E_\\text{lat}"})]})})}),(0,i.jsx)(t.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(t.span,{className:"base",children:[(0,i.jsx)(t.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(t.span,{className:"mord",children:[(0,i.jsx)(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),(0,i.jsx)(t.span,{className:"msupsub",children:(0,i.jsxs)(t.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(t.span,{className:"vlist-r",children:[(0,i.jsx)(t.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(t.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"},children:[(0,i.jsx)(t.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(t.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(t.span,{className:"mord text mtight",children:(0,i.jsx)(t.span,{className:"mord mtight",children:"lat"})})})]})}),(0,i.jsx)(t.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(t.span,{className:"vlist-r",children:(0,i.jsx)(t.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(t.span,{})})})]})})]})]})})]}),")"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"solvation free energy"}),": Stabilisation when molecule moves from vacuum into water (",(0,i.jsxs)(t.span,{className:"katex",children:[(0,i.jsx)(t.span,{className:"katex-mathml",children:(0,i.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(t.semantics,{children:[(0,i.jsx)(t.mrow,{children:(0,i.jsxs)(t.msub,{children:[(0,i.jsx)(t.mi,{children:"E"}),(0,i.jsx)(t.mtext,{children:"solv"})]})}),(0,i.jsx)(t.annotation,{encoding:"application/x-tex",children:"E_\\text{solv}"})]})})}),(0,i.jsx)(t.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(t.span,{className:"base",children:[(0,i.jsx)(t.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(t.span,{className:"mord",children:[(0,i.jsx)(t.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),(0,i.jsx)(t.span,{className:"msupsub",children:(0,i.jsxs)(t.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(t.span,{className:"vlist-r",children:[(0,i.jsx)(t.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(t.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"},children:[(0,i.jsx)(t.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(t.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(t.span,{className:"mord text mtight",children:(0,i.jsx)(t.span,{className:"mord mtight",children:"solv"})})})]})}),(0,i.jsx)(t.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(t.span,{className:"vlist-r",children:(0,i.jsx)(t.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(t.span,{})})})]})})]})]})})]}),")"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"dG solution"}),": Free energy change for dissolution (crystal \u2192 solution)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Solubility (g/L)"}),": Estimated solubility based on dG solution"]}),"\n"]}),(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Physical interpretation:"})}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Negative E_solv \u2192 molecule prefers solution over vacuum"}),"\n",(0,i.jsx)(t.li,{children:"Negative dG solution \u2192 energetically favorable to dissolve"}),"\n",(0,i.jsx)(t.li,{children:"Solubility prediction is approximate but useful for screening"}),"\n"]})]}),"\n",(0,i.jsx)(t.h3,{id:"neighbour-interactions",children:"Neighbour Interactions"}),"\n",(0,i.jsxs)(a.A,{commandId:"urea-cg-water",startPattern:"Neighbors for asymmetric molecule",endPattern:"Free energy estimates",title:"Crystal Packing Interactions",maxLines:20,children:[(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Column meanings:"})}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"nn"}),": Is this a nearest neighbour?"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Rn"}),": Nearest atomic contact distance (\xc5)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Rc"}),": Center-of-mass distance (\xc5)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"E_crys"}),": Pair interaction energy in crystal (kJ/mol)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"ES_AB, ES_BA"}),": Solvation energy contributions (From A to B and vice-versa)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"E_S"}),": Total solvation stabilisation"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"E_int"}),": Net interaction energy = E_crys - E_S"]}),"\n"]}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Most negative E_crys"})," indicates the ",(0,i.jsx)(t.strong,{children:"strongest interaction"})," (e.g. hydrogen bonds)."]})]}),"\n",(0,i.jsx)(t.h3,{id:"surface-energies",children:"Surface Energies"}),"\n",(0,i.jsxs)(a.A,{commandId:"urea-cg-water",startPattern:"Crystal surface energies",endPattern:"Writing",title:"Surface Energies in Water",maxLines:15,children:[(0,i.jsxs)(t.p,{children:["Each crystal face (hkl) has a ",(0,i.jsx)(t.strong,{children:"surface energy"})," in J/m\xb2:"]}),(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Column meanings:"})}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"(hkl)"}),": Miller indices defining the crystal face"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"spacing"}),": d-spacing between (hkl) planes (nm)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"area"}),": Surface area of one face in unit cell (\xc5\xb2)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"cut"}),": Position of cut through unit cell (fractional)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"energy"}),": Surface energy (J/m\xb2)"]}),"\n"]}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"The face with lowest energy will dominate the equilibrium crystal morphology."})," Surface energies in water are typically lower than in vacuum because the solvent stabilises the exposed surface, and different faces are stabilised by different amounts causing morphology changes."]})]}),"\n",(0,i.jsx)(t.h3,{id:"visualizing-crystal-morphology",children:"Visualizing Crystal Morphology"}),"\n",(0,i.jsxs)(t.p,{children:["The calculations generate ",(0,i.jsx)(t.code,{children:".ply"})," files containing the predicted 3D crystal shapes. You can visualise these directly:"]}),"\n",(0,i.jsx)(f,{vacuumFile:"input_vacuum.ply",solvatedFile:"input_water.ply",height:500}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"The visualisation shows the Wulff construction based on calculated surface energies. Faces with lower energies appear larger. Toggle between vacuum and water morphologies to see how the solvent changes the crystal shape!"})}),"\n",(0,i.jsx)(t.h2,{id:"physical-interpretation",children:"Physical Interpretation"}),"\n",(0,i.jsx)(t.h3,{id:"why-surface-energy-matters",children:"Why Surface Energy Matters"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Low surface energy face:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Molecules nearly as stable at surface as in bulk"}),"\n",(0,i.jsx)(t.li,{children:"Low driving force to grow"}),"\n",(0,i.jsx)(t.li,{children:"Grows slowly \u2192 remains large in final crystal"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"High surface energy face:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Molecules less stable at surface than bulk"}),"\n",(0,i.jsx)(t.li,{children:"High driving force to add more molecules"}),"\n",(0,i.jsx)(t.li,{children:"Grows quickly \u2192 disappears (grows out of existence)"}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"solvent-effects",children:"Solvent Effects"}),"\n",(0,i.jsx)(t.p,{children:"Solvents affect crystal faces differently because:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Face-specific chemistry"}),": Different faces expose different functional groups"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Solvent-surface interactions"}),": Polar solvents stabilise polar faces more"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Dielectric screening"}),": Reduces electrostatic interactions differently per face"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Result"}),": Relative surface energies change \u2192 morphology changes"]}),"\n",(0,i.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(t.p,{children:"You now understand how to predict crystal shapes and solvent effects! Continue to the next tutorial to explore more advanced topics."})]})}function A(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(L,{...e})}):L(e)}},8529:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(6540),i=s(8478),r=s(8768);const l={container:"container_rdK7",presetsBar:"presetsBar_ah8Z",presetButton:"presetButton_WzcF",header:"header_TlCS",filename:"filename_iOB_",actions:"actions_VUHV",buttonPrimary:"buttonPrimary_vooK",buttonSecondary:"buttonSecondary_O8Rn",editorWrapper:"editorWrapper_lmji",editor:"editor_Ep0I",message:"message_Go7n",footer:"footer_yWuD",hint:"hint_l7DP",modalOverlay:"modalOverlay_XkzU",modalContent:"modalContent_x_MQ",modalHeader:"modalHeader_rJUK",modalEditor:"modalEditor_S1Iz"};var a=s(4848);function o({file:e,initialContent:t="",language:s="text",width:i="100%",height:o=300,readonly:c=!1,presets:d=[]}){const[h,u]=(0,n.useState)(t),[m,p]=(0,n.useState)(t),[g,x]=(0,n.useState)(!1),[f,j]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(()=>{try{const s=r.b.getFiles(),n=e.startsWith("/")?e:"/"+e,i=s[n];if(i){const e=(new TextDecoder).decode(i);u(e),p(e)}else if(t){u(t),p(t);const e=(new TextEncoder).encode(t);r.b.writeFile(n,e)}}catch(s){console.error("Error loading file:",s)}})()},[e,t]),(0,n.useEffect)(()=>{x(h!==m)},[h,m]);const v=()=>{try{const t=e.startsWith("/")?e:"/"+e,s=(new TextEncoder).encode(h);r.b.writeFile(t,s),p(h),j("File saved successfully!"),setTimeout(()=>j(""),3e3)}catch(t){j(`Error saving file: ${t.message}`),setTimeout(()=>j(""),5e3)}},_=()=>{u(m),j("Changes discarded"),setTimeout(()=>j(""),3e3)},w=async()=>{try{await navigator.clipboard.writeText(h),j("Copied to clipboard!"),setTimeout(()=>j(""),3e3)}catch(e){j("Failed to copy"),setTimeout(()=>j(""),3e3)}},N=e=>{u(e.target.value)};return(0,a.jsxs)("div",{className:l.container,style:{width:i,height:o},children:[d.length>0&&(0,a.jsx)("div",{className:l.presetsBar,children:d.map((t,s)=>(0,a.jsx)("button",{onClick:()=>(t=>{u(t);try{const s=e.startsWith("/")?e:"/"+e,n=(new TextEncoder).encode(t);r.b.writeFile(s,n),p(t),j("Loaded preset"),setTimeout(()=>j(""),2e3)}catch(s){j(`Error loading preset: ${s.message}`),setTimeout(()=>j(""),5e3)}})(t.content),className:l.presetButton,title:`Load ${t.name}`,children:t.name},s))}),(0,a.jsxs)("div",{className:l.header,children:[(0,a.jsx)("div",{className:l.filename,children:e}),(0,a.jsxs)("div",{className:l.actions,children:[(0,a.jsx)("button",{onClick:()=>y(!0),className:l.buttonSecondary,title:"Expand to full screen",children:"Expand"}),(0,a.jsx)("button",{onClick:w,className:l.buttonSecondary,title:"Copy to clipboard",children:"Copy"}),!c&&g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:_,className:l.buttonSecondary,children:"Reset"}),(0,a.jsx)("button",{onClick:v,className:l.buttonPrimary,children:"Save to VFS"})]})]})]}),(0,a.jsxs)("div",{className:l.editorWrapper,children:[(0,a.jsx)("textarea",{value:h,onChange:N,readOnly:c,className:l.editor,spellCheck:!1}),f&&(0,a.jsx)("span",{className:l.message,children:f})]}),g&&!c&&(0,a.jsx)("div",{className:l.footer,children:(0,a.jsx)("small",{className:l.hint,children:'Unsaved changes - click "Save to VFS" to update the file'})}),b&&(0,a.jsx)("div",{className:l.modalOverlay,onClick:()=>y(!1),children:(0,a.jsxs)("div",{className:l.modalContent,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:l.modalHeader,children:[(0,a.jsx)("div",{className:l.filename,children:e}),(0,a.jsxs)("div",{className:l.actions,children:[(0,a.jsx)("button",{onClick:w,className:l.buttonSecondary,title:"Copy to clipboard",children:"Copy"}),!c&&g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:_,className:l.buttonSecondary,children:"Reset"}),(0,a.jsx)("button",{onClick:v,className:l.buttonPrimary,children:"Save to VFS"})]}),(0,a.jsx)("button",{onClick:()=>y(!1),className:l.buttonSecondary,title:"Close",children:"Close"})]})]}),(0,a.jsxs)("div",{className:l.editorWrapper,children:[(0,a.jsx)("textarea",{value:h,onChange:N,readOnly:c,className:l.modalEditor,spellCheck:!1,autoFocus:!0}),f&&(0,a.jsx)("span",{className:l.message,children:f})]})]})})]})}function c(e){return(0,a.jsx)(i.A,{fallback:(0,a.jsx)("div",{children:"Loading editor..."}),children:()=>(0,a.jsx)(o,{...e})})}},8634:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(6540),i=s(7851);const r={viewerContainer:"viewerContainer_i823",viewer:"viewer_AT5C",controls:"controls_He34",trajectoryControls:"trajectoryControls_FBT8",controlButtons:"controlButtons_G8ip",sliderContainer:"sliderContainer_WyWV",frameSlider:"frameSlider_YPdB",frameInfo:"frameInfo_jlzR",helpText:"helpText_Fz6Z",cubeControls:"cubeControls_m_W_",sliderLabel:"sliderLabel_S8Vg",slider:"slider_JOwf",optionsButton:"optionsButton_s3yl",optionsPanel:"optionsPanel_CTLN",optionItem:"optionItem_NCc6"};var l=s(4848);function a(e){try{const t=e.trim().split("\n");if(t.length<6)return null;const s=t[2].trim().split(/\s+/),n=parseFloat(s[1]),i=parseFloat(s[2]),r=parseFloat(s[3]),l=t[3].trim().split(/\s+/),a=t[4].trim().split(/\s+/),o=t[5].trim().split(/\s+/),c=parseInt(l[0]),d=parseInt(a[0]),h=parseInt(o[0]),u=parseFloat(l[1]),m=parseFloat(a[2]),p=parseFloat(o[3]),g=.529177;return{xMin:n*g,xMax:(n+(c-1)*u)*g,yMin:i*g,yMax:(i+(d-1)*m)*g,zMin:r*g,zMax:(r+(h-1)*p)*g}}catch(t){return console.error("Error parsing cube boundaries:",t),null}}function o(e){const t=e.trim().split("\n");if(t.length<6)return{min:1e-5,max:.5};const s=t[2].trim().split(/\s+/);let n=1/0,i=-1/0;for(let o=6+Math.abs(parseInt(s[0]));o<t.length;o++){const e=t[o].trim().split(/\s+/);for(const t of e){const e=parseFloat(t);isNaN(e)||(e<n&&(n=e),e>i&&(i=e))}}if(!isFinite(n)||!isFinite(i))return{min:1e-5,max:.5};const r=i-n;let l=n-.1*r,a=i+.1*r;return l=n>=0?Math.max(1e-5,l):Math.max(-1,l),a=Math.min(1,a),{min:l,max:a}}function c({data:e,cubeData:t,format:s="xyz",representation:c="ball+stick",width:d,height:h,backgroundColor:u="#ffffff",showControls:m=!0,cubeIsovalue:p=.002,cubeColor:g="#4169e1",cubeOpacity:x=.8,showMolecule:f=!0}){const j=(0,n.useRef)(null),b=(0,n.useRef)(null),y=(0,n.useRef)(null),v=(0,n.useRef)(null),_=(0,n.useRef)(null),[w,N]=(0,n.useState)(p),[C,S]=(0,n.useState)(1e-5),[k,F]=(0,n.useState)(.5),[E,B]=(0,n.useState)(!1),[M,P]=(0,n.useState)(!1),[L,A]=(0,n.useState)(null),T=()=>"dark"===document.documentElement.getAttribute("data-theme")?"#1b1b1d":u;(0,n.useEffect)(()=>{if(!j.current)return;const e=new i.BI(j.current,{backgroundColor:T()});b.current=e;const t=()=>{b.current&&b.current.handleResize()};window.addEventListener("resize",t);const s=new MutationObserver(()=>{b.current&&b.current.setParameters({backgroundColor:T()})});return s.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>{window.removeEventListener("resize",t),s.disconnect(),b.current&&b.current.dispose()}},[u]),(0,n.useEffect)(()=>{if(!b.current||!e)return;const n=b.current;if(n.removeAllComponents(),v.current=null,y.current=null,"cube"===s){const{min:t,max:s}=o(e);S(t),F(s);const i=a(e);A(i);const r=new Blob([e],{type:"text/plain"});n.loadFile(r,{ext:"cube"}).then(e=>{if(!e)return;y.current=e;const t=e.addRepresentation("surface",{color:g,opacity:x,isolevel:w,isolevelType:"value",smooth:1});v.current=t,f&&e.addRepresentation("ball+stick",{sele:"*"}),e.autoView()}).catch(e=>{console.error("Error loading cube file:",e)})}else{let r=e,l=s;if("xyz"===s)try{r=function(e){const t=e.trim().split("\n");if(t.length<3)throw new Error("Invalid XYZ file: too few lines");const s=parseInt(t[0]);if(isNaN(s))throw new Error("Invalid XYZ file: first line must be number of atoms");let n=[];n.push("REMARK   XYZ file converted to PDB"),n.push(`REMARK   ${t[1]}`);for(let i=0;i<s&&i+2<t.length;i++){const e=t[i+2].trim();if(!e)continue;const s=e.split(/\s+/);if(s.length<4)continue;const r=s[0],l=parseFloat(s[1]),a=parseFloat(s[2]),o=parseFloat(s[3]);if(isNaN(l)||isNaN(a)||isNaN(o))continue;const c=(i+1).toString().padStart(5),d=r.padEnd(4),h="MOL".padEnd(3),u="A",m="1".padStart(4),p=l.toFixed(3).padStart(8),g=a.toFixed(3).padStart(8),x=o.toFixed(3).padStart(8),f="1.00",j="0.00".padStart(6),b=r.padStart(12);n.push(`ATOM  ${c} ${d} ${h} ${u}${m}    ${p}${g}${x}  ${f}${j}${b}`)}return n.push("END"),n.join("\n")}(e),l="pdb"}catch(i){return void console.error("Error converting XYZ to PDB:",i)}else if("cif"===s)try{r=function(e){const t=e.trim().split("\n");let s=1,n=1,i=1,r=90,l=90,a=90;const o=[];let c=!1,d=-1,h=-1,u=-1,m=-1,p=-1;for(let x=0;x<t.length;x++){const e=t[x].trim();if(e.startsWith("_cell_length_a")?s=parseFloat(e.split(/\s+/)[1]):e.startsWith("_cell_length_b")?n=parseFloat(e.split(/\s+/)[1]):e.startsWith("_cell_length_c")?i=parseFloat(e.split(/\s+/)[1]):e.startsWith("_cell_angle_alpha")?r=parseFloat(e.split(/\s+/)[1]):e.startsWith("_cell_angle_beta")?l=parseFloat(e.split(/\s+/)[1]):e.startsWith("_cell_angle_gamma")&&(a=parseFloat(e.split(/\s+/)[1])),e.startsWith("_atom_site_label"))c=!0,d=0;else if(c&&e.startsWith("_atom_site_"))e.includes("_atom_site_type_symbol")?h=e.split(/\s+/).length-1:e.includes("_atom_site_fract_x")?u=e.split(/\s+/).length-1:e.includes("_atom_site_fract_y")?m=e.split(/\s+/).length-1:e.includes("_atom_site_fract_z")&&(p=e.split(/\s+/).length-1);else if(c&&!e.startsWith("_")&&!e.startsWith("loop_")&&e.length>0){const t=e.split(/\s+/);if(t.length>=5){const e=t[0],r=t[1],l=parseFloat(t[2])*s,a=parseFloat(t[3])*n,c=parseFloat(t[4])*i;o.push({label:e,element:r,x:l,y:a,z:c})}}}if(0===o.length)throw new Error("No atoms found in CIF file");let g=[];return g.push("REMARK   CIF file converted to PDB (asymmetric unit only)"),g.push(`CRYST1${s.toFixed(3).padStart(9)}${n.toFixed(3).padStart(9)}${i.toFixed(3).padStart(9)}${r.toFixed(2).padStart(7)}${l.toFixed(2).padStart(7)}${a.toFixed(2).padStart(7)} P 1           1`),o.forEach((e,t)=>{const s=(t+1).toString().padStart(5),n=e.element.padEnd(4),i="MOL".padEnd(3),r="1".padStart(4),l=e.x.toFixed(3).padStart(8),a=e.y.toFixed(3).padStart(8),o=e.z.toFixed(3).padStart(8),c="0.00".padStart(6),d=e.element.padStart(12);g.push(`ATOM  ${s} ${n} ${i} A${r}    ${l}${a}${o}  1.00${c}${d}`)}),g.push("END"),g.join("\n")}(e),l="pdb"}catch(i){return void console.error("Error converting CIF to PDB:",i)}const d=new Blob([r],{type:"text/plain"});n.loadFile(d,{ext:l}).then(e=>{if(e&&(e.addRepresentation(c),e.autoView(),t)){const{min:e,max:s}=o(t);S(e),F(s);const i=a(t);A(i);const r=new Blob([t],{type:"text/plain"});n.loadFile(r,{ext:"cube"}).then(e=>{if(!e)return;y.current=e;const t=e.addRepresentation("surface",{color:g,opacity:x,isolevel:w,isolevelType:"value",smooth:1});v.current=t,n.autoView()}).catch(e=>{console.error("Error loading cube overlay:",e)})}}).catch(e=>{console.error("Error loading structure:",e)})}},[e,t,s,c,p,g,x,f]);return(0,n.useEffect)(()=>{if(b.current&&L){if(_.current)try{const e=_.current.parent;e&&b.current.removeComponent(e),_.current=null}catch(e){console.warn("Error removing previous box:",e)}if(M)try{const e=new i.yp("cube-bounds"),{xMin:t,xMax:s,yMin:n,yMax:r,zMin:l,zMax:a}=L,o=[.5,.5,.5],c=.02;e.addCylinder([t,n,l],[s,n,l],o,c),e.addCylinder([s,n,l],[s,r,l],o,c),e.addCylinder([s,r,l],[t,r,l],o,c),e.addCylinder([t,r,l],[t,n,l],o,c),e.addCylinder([t,n,a],[s,n,a],o,c),e.addCylinder([s,n,a],[s,r,a],o,c),e.addCylinder([s,r,a],[t,r,a],o,c),e.addCylinder([t,r,a],[t,n,a],o,c),e.addCylinder([t,n,l],[t,n,a],o,c),e.addCylinder([s,n,l],[s,n,a],o,c),e.addCylinder([s,r,l],[s,r,a],o,c),e.addCylinder([t,r,l],[t,r,a],o,c);const d=b.current.addComponentFromObject(e).addRepresentation("buffer");_.current=d}catch(e){console.error("Could not show cube boundaries:",e)}}},[M,L]),(0,l.jsxs)("div",{className:r.viewerContainer,style:{width:d,height:h||void 0,minHeight:h?void 0:400},children:[(0,l.jsx)("div",{ref:j,className:r.viewer}),("cube"===s||t)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:r.cubeControls,children:[(0,l.jsxs)("label",{className:r.sliderLabel,children:[(0,l.jsx)("span",{style:{fontSize:"0.7rem",opacity:.7},children:"Isovalue:"}),(0,l.jsx)("strong",{children:w.toExponential(2)}),(0,l.jsx)("input",{type:"range",min:C,max:k,step:(k-C)/1e3,value:w,onChange:e=>{const t=parseFloat(e.target.value);N(t),v.current&&v.current.setParameters({isolevel:t})},className:r.slider})]}),(0,l.jsx)("button",{className:r.optionsButton,onClick:()=>B(!E),title:"Options",children:"\u22ee"})]}),E&&(0,l.jsxs)("div",{className:r.optionsPanel,children:[(0,l.jsx)("div",{className:r.optionItem,children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:M,onChange:e=>P(e.target.checked)}),(0,l.jsx)("span",{children:"Show cube boundaries"})]})}),(0,l.jsxs)("div",{className:r.optionItem,style:{fontSize:"0.7rem",opacity:.6,marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid var(--ifm-color-emphasis-200)"},children:["Range: ",C.toExponential(2)," to ",k.toExponential(2)]})]})]})]})}},8768:(e,t,s)=>{s.d(t,{b:()=>n});const n=new class{files={};listeners=new Set;addFiles(e){this.files={...this.files,...e},this.notifyListeners()}getFiles(){return{...this.files}}getFile(e){return this.files[e]}hasFile(e){return e in this.files}writeFile(e,t){this.files[e]=t,this.notifyListeners()}removeFile(e){delete this.files[e],this.notifyListeners()}clear(){this.files={},this.notifyListeners()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e(this.getFiles()))}getFilePaths(){return Object.keys(this.files)}}},9024:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(6540),i=s(8478),r=s(8634),l=s(8768),a=s(4848);function o({file:e,cubeFile:t,format:s="xyz",representation:i="ball+stick",width:o=600,height:c=400,backgroundColor:d="#ffffff",showControls:h=!0,cubeIsovalue:u=.002,cubeColor:m="#4169e1",cubeOpacity:p=.7}){const[g,x]=(0,n.useState)(""),[f,j]=(0,n.useState)(""),[b,y]=(0,n.useState)("");return(0,n.useEffect)(()=>{const s=()=>{try{const s=l.b.getFiles(),n=s[e.startsWith("/")?e:"/"+e];if(n){const e=new TextDecoder;x(e.decode(n)),y("")}else y(`File not found: ${e}. Run the command above first.`);if(t){const e=s[t.startsWith("/")?t:"/"+t];if(e){const t=new TextDecoder;j(t.decode(e))}else j("")}}catch(s){y(`Error loading file: ${s.message}`)}};s();const n=setInterval(s,1e3);return()=>clearInterval(n)},[e,t]),b?(0,a.jsxs)("div",{style:{padding:"2rem",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",margin:"1rem 0"},children:[(0,a.jsx)("strong",{children:"Viewer:"})," ",b]}):g?(0,a.jsx)(r.A,{data:g,cubeData:f,format:s,representation:i,width:o,height:c,backgroundColor:d,showControls:h,cubeIsovalue:u,cubeColor:m,cubeOpacity:p}):(0,a.jsxs)("div",{style:{padding:"2rem",background:"#e7f3ff",border:"1px solid #2196f3",borderRadius:"8px",margin:"1rem 0",textAlign:"center"},children:[(0,a.jsx)("p",{children:"Waiting for file to load..."}),(0,a.jsx)("small",{children:"Run the command above to generate the visualization file."})]})}function c(e){return(0,a.jsx)(i.A,{fallback:(0,a.jsx)("div",{children:"Loading viewer..."}),children:()=>(0,a.jsx)(o,{...e})})}},9623:(e,t,s)=>{s.d(t,{A:()=>n.A});var n=s(1705)},9970:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(6540),i=s(8478),r=s(8768),l=s(1878);const a={container:"container_QiYZ",header:"header_Z3QX",commandBlock:"commandBlock_KPH0",command:"command_ftG7",commandInput:"commandInput_U5bk",actions:"actions_r8hD",button:"button_UEjd",runButton:"runButton_N7WP",stopButton:"stopButton_URq7",fileTabsContainer:"fileTabsContainer_wVnt",fileTabs:"fileTabs_IWaP",fileTab:"fileTab_kFag",fileTabActive:"fileTabActive_bCSo",fileTabContent:"fileTabContent_nXd0",inputFilesList:"inputFilesList_CxPD",availableFiles:"availableFiles_UYvm",fileChips:"fileChips_YunZ",fileChip:"fileChip_OBOL",output:"output_MWSm",outputHeader:"outputHeader_CPe2",collapseButton:"collapseButton_O3zR",outputContent:"outputContent_TjO4",slideDown:"slideDown_ZpYm",highlight:"highlight_PWya",info:"info_NsEM",success:"success_xKBI",warning:"warning_qPPR",error:"error_MrOe",files:"files_dF_d",fileGrid:"fileGrid_mqCm",fileItem:"fileItem_Q2KA",fileName:"fileName_BN6Z",downloadIcon:"downloadIcon_IugX",expectedOutputs:"expectedOutputs_qSor"};var o=s(4848);function c({id:e,command:t,inputFiles:s={},expectedOutputs:i=[],language:c="bash",maxHeight:d="500px",highlights:h=[]}){const[u,m]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null),[j,b]=(0,n.useState)({}),[y,v]=(0,n.useState)([]),[_,w]=(0,n.useState)(t),[N,C]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),[F,E]=(0,n.useState)("input"),B=(0,n.useRef)(null),M=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=()=>{v(r.b.getFilePaths())};e();return r.b.subscribe(e)},[]),(0,n.useEffect)(()=>{M.current&&!S&&(M.current.scrollTop=M.current.scrollHeight)},[u,S]),(0,n.useEffect)(()=>{e&&u&&(0,l.H)(e,u)},[e,u]),(0,n.useEffect)(()=>{Object.keys(j).length>0&&E("output")},[j]);const P=async()=>{m(""),f(null),b({}),g(!0),C(!1),k(!1);try{const e=_.trim().split(/\s+/);if("occ"!==e[0])return f('Command must start with "occ"'),void g(!1);const t=e.slice(1),n={},i=r.b.getFiles();Object.assign(n,i);for(const[r,o]of Object.entries(s)){const e=new TextEncoder;n["/"+r]=e.encode(o)}const l=new Set(Object.keys(n)),a=new Worker("/occ-run-worker.js");B.current=a,a.onmessage=e=>{const{type:t,text:s,code:n,files:i}=e.data;switch(t){case"output":case"error":m(e=>e+s+"\n");break;case"ready":break;case"exit":if(i){const e={},t={};for(const[s,n]of Object.entries(i)){const i=s.startsWith("/basis/")||s.startsWith("/methods/")||s.startsWith("/solvent/")||s.startsWith("/lib/")||s.startsWith("/usr/")||s.startsWith("/etc/")||s.startsWith("/dev/")||"/dev/null"===s||"/sgdata.json"===s;i||(t[s]=n),l.has(s)||i||(e[s]=n)}r.b.addFiles(t),b(e)}a.terminate(),B.current=null,g(!1),0!==n&&f(`Command exited with code ${n}`)}},a.onerror=e=>{f(e.message),g(!1),a.terminate(),B.current=null},a.postMessage({command:t.join(" "),cwd:"/",files:n})}catch(e){f(e.message),g(!1)}},L=()=>{w(t),C(!1)},A=Object.keys(j);return(0,o.jsxs)("div",{className:a.container,children:[(0,o.jsxs)("div",{className:a.header,children:[(0,o.jsx)("div",{className:a.commandBlock,children:N?(0,o.jsx)("input",{type:"text",value:_,onChange:e=>w(e.target.value),onBlur:()=>C(!1),onKeyDown:e=>{"Enter"===e.key?P():"Escape"===e.key&&L()},className:a.commandInput,autoFocus:!0}):(0,o.jsx)("code",{className:a.command,onClick:()=>C(!0),title:"Click to edit",children:_})}),(0,o.jsxs)("div",{className:a.actions,children:[_!==t&&(0,o.jsx)("button",{onClick:L,className:a.button,title:"Reset to original command",children:"Reset"}),(0,o.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(_)},className:a.button,title:"Copy command to clipboard",children:"Copy"}),(0,o.jsx)("button",{onClick:p?()=>{B.current&&(B.current.terminate(),B.current=null,g(!1),m(e=>e+"\n[Command interrupted by user]\n"))}:P,className:`${a.button} ${p?a.stopButton:a.runButton}`,title:p?"Stop command":"Run command in browser",children:p?"Stop":"Run"})]})]}),(Object.keys(s).length>0||A.length>0)&&(0,o.jsxs)("div",{className:a.fileTabsContainer,children:[(0,o.jsxs)("div",{className:a.fileTabs,children:[Object.keys(s).length>0&&(0,o.jsxs)("button",{className:`${a.fileTab} ${"input"===F?a.fileTabActive:""}`,onClick:()=>E("input"),children:["Input Files (",Object.keys(s).length,")"]}),A.length>0&&(0,o.jsxs)("button",{className:`${a.fileTab} ${"output"===F?a.fileTabActive:""}`,onClick:()=>E("output"),children:["Output Files (",A.length,")"]})]}),(0,o.jsxs)("div",{className:a.fileTabContent,children:["input"===F&&Object.keys(s).length>0&&(0,o.jsx)("ul",{className:a.inputFilesList,children:Object.keys(s).map(e=>(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:e})},e))}),"output"===F&&A.length>0&&(0,o.jsx)("div",{className:a.fileGrid,children:A.map(e=>(0,o.jsxs)("div",{className:a.fileItem,onClick:()=>(e=>{const t=j[e];if(!t)return;const s=new Blob([t],{type:"application/octet-stream"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=e.split("/").pop()||"download",i.click(),URL.revokeObjectURL(n)})(e),title:"Click to download",children:[(0,o.jsx)("span",{className:a.fileName,children:e.startsWith("/")?e.slice(1):e}),(0,o.jsx)("span",{className:a.downloadIcon,children:"\u2193"})]},e))})]})]}),y.length>0&&0===Object.keys(s).length&&0===A.length&&(0,o.jsxs)("div",{className:a.availableFiles,children:[(0,o.jsx)("strong",{children:"Available files from previous commands:"}),(0,o.jsx)("div",{className:a.fileChips,children:y.map(e=>(0,o.jsx)("span",{className:a.fileChip,children:e.startsWith("/")?e.slice(1):e},e))})]}),u&&(0,o.jsxs)("div",{className:a.output,children:[(0,o.jsxs)("div",{className:a.outputHeader,onClick:()=>k(!S),children:[(0,o.jsx)("strong",{children:"Output"}),(0,o.jsx)("button",{className:a.collapseButton,children:S?"\u25b6":"\u25bc"})]}),!S&&(0,o.jsx)("pre",{ref:M,className:a.outputContent,style:{maxHeight:d},children:(()=>{if(0===h.length||!u)return u;const e=u.split("\n"),t=[];return e.forEach((s,i)=>{let r=[s];h.forEach((e,t)=>{const s="string"==typeof e.pattern?new RegExp(e.pattern,"g"):e.pattern,n=[];r.forEach(r=>{if("string"==typeof r){let l=0;const c=[];let d;for(s.lastIndex=0;null!==(d=s.exec(r));)c.push({...d}),d.index===s.lastIndex&&s.lastIndex++;0===c.length?n.push(r):(c.forEach((s,c)=>{s.index>l&&n.push(r.substring(l,s.index));const d=e.className||"highlight";n.push((0,o.jsx)("span",{className:a[d],title:e.label,children:s[0]},`${i}-${t}-${c}`)),l=s.index+s[0].length}),l<r.length&&n.push(r.substring(l)))}else n.push(r)}),r=n}),t.push((0,o.jsxs)(n.Fragment,{children:[r,i<e.length-1&&"\n"]},i))}),t})()})]}),x&&(0,o.jsxs)("div",{className:a.error,children:[(0,o.jsx)("strong",{children:"Error:"})," ",x]}),i.length>0&&!p&&0===A.length&&!u&&(0,o.jsx)("div",{className:a.expectedOutputs,children:(0,o.jsxs)("small",{children:["Expected outputs: ",i.join(", ")]})})]})}function d(e){return(0,o.jsx)(i.A,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:()=>(0,o.jsx)(c,{...e})})}}}]);